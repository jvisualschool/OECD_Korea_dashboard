<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€í•œë¯¼êµ­ OECD í†µê³„ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            /* Light Theme (Default) */
            --bg-primary: #F5F5F5;
            --bg-secondary: #FFFFFF;
            --bg-header: #363636;
            --text-primary: #363636;
            --text-secondary: #666666;
            --text-tertiary: #888888;
            --text-inverse: #FFFFFF;
            --border-color: #E0E0E0;
            --shadow: rgba(0, 0, 0, 0.08);
            --shadow-hover: rgba(0, 0, 0, 0.12);
            --highlight-bg: rgba(54, 54, 54, 0.05);
            --update-info-bg: rgba(255, 255, 255, 0.15);
            --chart-primary: #363636;
            --chart-secondary: #555555;
            --chart-success: #666666;
            --chart-danger: #777777;
            --chart-warning: #888888;
            --chart-info: #999999;
            --chart-fill: rgba(54, 54, 54, 0.1);
            --chart-grid: rgba(0, 0, 0, 0.1);
            --chart-tick: rgba(0, 0, 0, 0.5);
            --chart-korea: #42A5F5;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-header: #0d0d0d;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-tertiary: #888888;
            --text-inverse: #e0e0e0;
            --border-color: #404040;
            --shadow: rgba(0, 0, 0, 0.3);
            --shadow-hover: rgba(0, 0, 0, 0.5);
            --highlight-bg: rgba(255, 255, 255, 0.05);
            --update-info-bg: rgba(255, 255, 255, 0.1);
            --chart-primary: #e0e0e0;
            --chart-secondary: #b0b0b0;
            --chart-success: #90caf9;
            --chart-danger: #ef5350;
            --chart-warning: #ffa726;
            --chart-info: #42a5f5;
            --chart-korea: #64B5F6;
            --chart-fill: rgba(224, 224, 224, 0.1);
            --chart-grid: rgba(255, 255, 255, 0.15);
            --chart-tick: rgba(255, 255, 255, 0.6);
        }

        [data-theme="gray"] {
            --bg-primary: #e8e8e8;
            --bg-secondary: #d0d0d0;
            --bg-header: #4a4a4a;
            --text-primary: #2d2d2d;
            --text-secondary: #555555;
            --text-tertiary: #777777;
            --text-inverse: #f5f5f5;
            --border-color: #b8b8b8;
            --shadow: rgba(0, 0, 0, 0.15);
            --shadow-hover: rgba(0, 0, 0, 0.25);
            --highlight-bg: rgba(45, 45, 45, 0.08);
            --update-info-bg: rgba(255, 255, 255, 0.2);
            --chart-primary: #2d2d2d;
            --chart-secondary: #555555;
            --chart-success: #7a8a7a;
            --chart-danger: #8a7a7a;
            --chart-warning: #8a857a;
            --chart-info: #7a7f8a;
            --chart-fill: rgba(45, 45, 45, 0.1);
            --chart-grid: rgba(0, 0, 0, 0.15);
            --chart-tick: rgba(0, 0, 0, 0.5);
        }

        [data-theme="dark-blue"] {
            --bg-primary: #0a1929;
            --bg-secondary: #132f4c;
            --bg-header: #001e3c;
            --text-primary: #e3f2fd;
            --text-secondary: #90caf9;
            --text-tertiary: #64b5f6;
            --text-inverse: #e3f2fd;
            --border-color: #1e4976;
            --shadow: rgba(0, 0, 0, 0.4);
            --shadow-hover: rgba(0, 0, 0, 0.6);
            --highlight-bg: rgba(33, 150, 243, 0.1);
            --update-info-bg: rgba(33, 150, 243, 0.15);
            --chart-primary: #2196f3;
            --chart-secondary: #5a7a9a;
            --chart-success: #6a8a7a;
            --chart-danger: #8a6a7a;
            --chart-warning: #8a857a;
            --chart-info: #6a7a8a;
            --chart-fill: rgba(33, 150, 243, 0.1);
            --chart-grid: rgba(33, 150, 243, 0.2);
            --chart-tick: rgba(227, 242, 253, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            padding: 0;
            margin: 0;
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
        }

        .header {
            background: var(--bg-header);
            color: var(--text-inverse);
            padding: 50px 40px;
            text-align: center;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            font-weight: 300;
        }

        .update-info {
            background: var(--update-info-bg);
            padding: 12px 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.9em;
            display: inline-block;
            transition: background-color 0.3s ease;
        }

        .section {
            padding: 60px 40px;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
        }

        .section-title {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 40px;
            text-align: center;
            letter-spacing: -0.5px;
            transition: color 0.3s ease;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 50px;
        }

        .metric-card {
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 16px var(--shadow-hover);
        }

        .metric-label {
            font-size: 0.95em;
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .metric-value {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text-primary);
            letter-spacing: -1px;
            transition: color 0.3s ease;
        }

        .metric-compare {
            font-size: 0.9em;
            color: var(--text-tertiary);
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .chart-wrapper {
            background: var(--bg-secondary);
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .chart-title {
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 24px;
            color: var(--text-primary);
            letter-spacing: -0.3px;
            transition: color 0.3s ease;
        }

        .footer {
            background: var(--bg-header);
            padding: 30px;
            text-align: center;
            color: var(--text-inverse);
            font-size: 0.9em;
            opacity: 0.9;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .source-link {
            color: var(--text-inverse);
            text-decoration: none;
            font-weight: 500;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .source-link:hover {
            opacity: 1;
            text-decoration: underline;
        }

        .highlight {
            background: var(--highlight-bg);
            padding: 20px 24px;
            border-left: 4px solid var(--text-primary);
            margin: 30px 0;
            border-radius: 8px;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        @keyframes iconFadeIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-5px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes iconFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-3px);
            }
        }

        @keyframes iconBrightness {

            0%,
            100% {
                filter: brightness(1);
            }

            50% {
                filter: brightness(1.25);
            }
        }

        .icon {
            display: inline-block;
            vertical-align: middle;
            margin-right: 0.4em;
            opacity: 0;
            animation: iconFadeIn 0.6s ease-out forwards;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .icon-large {
            width: 1em;
            height: 1em;
            margin-right: 0.4em;
            animation-delay: 0.1s;
        }

        .icon-medium {
            width: 1em;
            height: 1em;
            margin-right: 0.4em;
            animation-delay: 0.15s;
        }

        .icon-small {
            width: 1em;
            height: 1em;
            margin-right: 0.3em;
            animation-delay: 0.2s;
        }

        .icon:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .section-title .icon:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .section-title .icon {
            margin-right: 0.4em;
        }

        .header h1 .icon {
            margin-right: 0.4em;
            color: white;
            stroke: currentColor;
            animation: iconFadeIn 0.6s ease-out forwards, iconFloat 3s ease-in-out infinite 1s;
        }

        .header .update-info .icon {
            color: rgba(255, 255, 255, 0.9);
            stroke: currentColor;
        }

        .section-title .icon {
            color: var(--text-primary);
            stroke: currentColor;
            animation: iconFadeIn 0.6s ease-out forwards, iconFloat 3s ease-in-out infinite;
            animation-delay: 0.3s, 1s;
            transition: color 0.3s ease;
        }

        .section:nth-of-type(2) .section-title .icon {
            animation-delay: 0.4s, 1.1s;
        }

        .section:nth-of-type(3) .section-title .icon {
            animation-delay: 0.5s, 1.2s;
        }

        .section:nth-of-type(4) .section-title .icon {
            animation-delay: 0.6s, 1.3s;
        }

        .highlight .icon {
            color: var(--text-primary);
            stroke: currentColor;
            animation-delay: 0.5s;
            transition: color 0.3s ease;
        }

        /* Theme Switcher */
        .theme-switcher {
            position: fixed;
            top: 16px;
            right: 16px;
            z-index: 1000;
            display: flex;
            gap: 4px;
            background: var(--bg-secondary);
            padding: 5px;
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .theme-btn {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .theme-btn svg,
        .theme-btn i {
            width: 14px !important;
            height: 14px !important;
        }

        .theme-btn:hover {
            transform: scale(1.15);
            border-color: var(--text-tertiary);
        }

        .theme-btn.active {
            border-color: var(--text-primary);
            box-shadow: 0 0 0 1px var(--highlight-bg);
        }

        .theme-btn.light {
            background: linear-gradient(135deg, #F5F5F5 0%, #FFFFFF 100%);
        }

        .theme-btn.dark {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
        }

        .theme-btn.gray {
            background: linear-gradient(135deg, #e8e8e8 0%, #d0d0d0 100%);
        }

        .theme-btn.dark-blue {
            background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
        }

        .footer .icon {
            vertical-align: middle;
            animation-delay: 0.7s;
            transition: all 0.3s ease;
        }

        .footer .icon:hover {
            transform: scale(1.15);
            filter: brightness(1.3);
        }

        /* API Guide Section */
        .api-guide {
            background: var(--bg-secondary);
            padding: 40px;
            margin: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .api-guide h3 {
            font-size: 1.6em;
            margin-bottom: 24px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-guide h4 {
            font-size: 1.2em;
            margin: 24px 0 12px 0;
            color: var(--text-primary);
        }

        .api-guide p {
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .api-guide code {
            background: var(--highlight-bg);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            color: var(--text-primary);
        }

        .api-guide pre {
            background: var(--bg-header);
            color: var(--text-inverse);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85em;
            line-height: 1.5;
            margin: 16px 0;
        }

        .api-guide .endpoint-list {
            display: grid;
            gap: 12px;
            margin-top: 16px;
        }

        .api-guide .endpoint-item {
            background: var(--highlight-bg);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid var(--text-primary);
        }

        .api-guide .endpoint-item strong {
            color: var(--text-primary);
            display: block;
            margin-bottom: 8px;
        }

        .api-guide .endpoint-item code {
            display: block;
            word-break: break-all;
            margin-top: 8px;
            background: var(--bg-secondary);
            padding: 8px 12px;
        }

        .api-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 16px;
        }

        .api-status.live {
            background: rgba(46, 204, 113, 0.15);
            color: #27ae60;
        }

        .api-status.fallback {
            background: rgba(241, 196, 15, 0.15);
            color: #f39c12;
        }

        .api-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .api-status.live .api-status-dot {
            background: #27ae60;
        }

        .api-status.fallback .api-status-dot {
            background: #f39c12;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
                transform: scale(1);
                box-shadow: 0 0 0 0 currentColor;
            }

            50% {
                opacity: 0.6;
                transform: scale(1.3);
                box-shadow: 0 0 0 6px transparent;
            }

            100% {
                opacity: 1;
                transform: scale(1);
                box-shadow: 0 0 0 0 currentColor;
            }
        }

        @keyframes pulseRing {
            0% {
                transform: scale(1);
                opacity: 0.8;
            }

            100% {
                transform: scale(2.5);
                opacity: 0;
            }
        }

        .api-status-dot,
        .header-api-dot {
            position: relative;
        }

        .api-status-dot::before,
        .header-api-dot::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: currentColor;
            animation: pulseRing 1.5s ease-out infinite;
        }

        .copy-btn {
            background: var(--text-primary);
            color: var(--bg-primary);
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            margin-top: 8px;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }

        /* Header API Status Badge */
        .header-subtitle-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .header-subtitle-row p {
            margin: 0;
        }

        .header-api-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid rgba(46, 204, 113, 0.3);
            transition: all 0.3s ease;
        }

        .header-api-status.live {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border-color: rgba(46, 204, 113, 0.3);
        }

        .header-api-status.fallback {
            background: rgba(241, 196, 15, 0.2);
            color: #f1c40f;
            border-color: rgba(241, 196, 15, 0.3);
        }

        .header-api-status.loading {
            background: rgba(52, 152, 219, 0.2);
            color: #3498db;
            border-color: rgba(52, 152, 219, 0.3);
        }

        .header-api-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse 2s infinite;
        }
    </style>
</head>

<body>
    <!-- Theme Switcher -->
    <div class="theme-switcher">
        <button class="theme-btn light active" data-theme="light" title="ë¼ì´íŠ¸ í…Œë§ˆ">
            <i data-lucide="sun" style="width: 20px; height: 20px;"></i>
        </button>
        <button class="theme-btn dark" data-theme="dark" title="ë‹¤í¬ í…Œë§ˆ">
            <i data-lucide="moon" style="width: 20px; height: 20px;"></i>
        </button>
        <button class="theme-btn gray" data-theme="gray" title="ê·¸ë ˆì´ í…Œë§ˆ">
            <i data-lucide="circle" style="width: 20px; height: 20px;"></i>
        </button>
        <button class="theme-btn dark-blue" data-theme="dark-blue" title="ë‹¤í¬ ë¸”ë£¨ í…Œë§ˆ">
            <i data-lucide="droplet" style="width: 20px; height: 20px;"></i>
        </button>
    </div>
    <div class="container">
        <div class="header">
            <h1><i data-lucide="flag" class="icon icon-large"></i>ëŒ€í•œë¯¼êµ­ OECD í†µê³„ ëŒ€ì‹œë³´ë“œ</h1>
            <div class="header-subtitle-row">
                <p>Korea OECD Statistics Dashboard 2024-2025</p>
                <div class="header-api-status loading" id="headerApiStatus">
                    <span class="header-api-dot"></span>
                    <span id="headerApiStatusText">ì—°ê²° ì¤‘...</span>
                </div>
            </div>
            <div class="update-info">
                <i data-lucide="bar-chart-3" class="icon icon-small"></i>ë°ì´í„° ì¶œì²˜: OECD | <i data-lucide="calendar"
                    class="icon icon-small"></i>ì—…ë°ì´íŠ¸: ì›”ê°„(CLI), ë¶„ê¸°ë³„(GDP), ì—°ê°„(ì‚¬íšŒì§€í‘œ)
            </div>
        </div>

        <!-- Section 1: ê²½ì œ ì§€í‘œ -->
        <div class="section">
            <h2 class="section-title"><i data-lucide="dollar-sign" class="icon icon-medium"></i>ê²½ì œ ì§€í‘œ</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">GDP ì„±ì¥ë¥  (2024)</div>
                    <div class="metric-value">2.2%</div>
                    <div class="metric-compare">2025 ì „ë§: 1.0% | 2026: 2.2%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ì‹¤ì—…ë¥  (2024)</div>
                    <div class="metric-value">2.7%</div>
                    <div class="metric-compare">OECD í‰ê· : 4.9% | ì—­ì‚¬ì  ì €ì  ìˆ˜ì¤€</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ì¸í”Œë ˆì´ì…˜ìœ¨ (2024)</div>
                    <div class="metric-value">1.9%</div>
                    <div class="metric-compare">2023: 3.6% | ëª©í‘œ(2%): ê·¼ì ‘</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">1ì¸ë‹¹ GDP (2024)</div>
                    <div class="metric-value">$34,000</div>
                    <div class="metric-compare">PPP: $65,080 | OECD í‰ê·  ë„ë‹¬</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-wrapper">
                    <div class="chart-title">GDP ì„±ì¥ë¥  ì¶”ì´</div>
                    <canvas id="gdpChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-title">ì‹¤ì—…ë¥  ë¹„êµ</div>
                    <canvas id="unemploymentChart"></canvas>
                </div>
            </div>

            <div class="highlight">
                <strong><i data-lucide="lightbulb" class="icon icon-small"></i>ì£¼ìš” ì¸ì‚¬ì´íŠ¸:</strong> ëŒ€í•œë¯¼êµ­ì€ ê°•ë ¥í•œ ìˆ˜ì¶œ ì¤‘ì‹¬ìœ¼ë¡œ GDP
                íšŒë³µì„¸ë¥¼ ë³´ì´ê³  ìˆìœ¼ë©°, ì‹¤ì—…ë¥ ì€ OECD ìµœì € ìˆ˜ì¤€ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. 2025ë…„ì€ ëŒ€ì™¸ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ 1.0% ì„±ì¥ì´ ì˜ˆìƒë˜ë‚˜, 2026ë…„ 2.2% íšŒë³µ ì „ë§ì…ë‹ˆë‹¤.
            </div>
        </div>

        <!-- Section 2: ì‚¬íšŒ ì§€í‘œ -->
        <div class="section">
            <h2 class="section-title"><i data-lucide="users" class="icon icon-medium"></i>ì‚¬íšŒ ì§€í‘œ</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">í•©ê³„ì¶œì‚°ìœ¨ (2024)</div>
                    <div class="metric-value">0.75</div>
                    <div class="metric-compare">OECD í‰ê· : 1.5 | ì„¸ê³„ ìµœì € <i data-lucide="alert-triangle"
                            style="width: 18px; height: 18px; color: #e74c3c; vertical-align: middle;"></i></div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ê¸°ëŒ€ìˆ˜ëª… (2023)</div>
                    <div class="metric-value">83.5ì„¸</div>
                    <div class="metric-compare">OECD í‰ê· : 78.8ì„¸ | ì „ë…„ +0.8ì„¸</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ê³ ë“±êµìœ¡ ì´ìˆ˜ìœ¨ (25-34ì„¸, 2024)</div>
                    <div class="metric-value">70.6%</div>
                    <div class="metric-compare">OECD 1ìœ„ | OECD í‰ê· : 48.4%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ì‚¶ì˜ ë§Œì¡±ë„ (2024)</div>
                    <div class="metric-value">6.4ì </div>
                    <div class="metric-compare">OECD í‰ê· : 6.69ì  | OECD 33ìœ„</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-wrapper">
                    <div class="chart-title">ì¶œì‚°ìœ¨ êµ­ì œ ë¹„êµ</div>
                    <canvas id="fertilityChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-title">êµìœ¡ ìˆ˜ì¤€ ë¹„êµ</div>
                    <canvas id="educationChart"></canvas>
                </div>
            </div>

            <div class="highlight">
                <strong><i data-lucide="lightbulb" class="icon icon-small"></i>ì£¼ìš” ì¸ì‚¬ì´íŠ¸:</strong> ëŒ€í•œë¯¼êµ­ì€ OECD êµ­ê°€ ì¤‘ ê³ ë“±êµìœ¡
                ì´ìˆ˜ìœ¨ 1ìœ„(70.6%)ë¥¼ ê¸°ë¡í•˜ë©° êµìœ¡ ê°•êµ­ì˜ ë©´ëª¨ë¥¼ ë³´ì´ê³  ìˆìœ¼ë‚˜, í•©ê³„ì¶œì‚°ìœ¨ì€ 0.75ë¡œ ì„¸ê³„ ìµœì € ìˆ˜ì¤€ì…ë‹ˆë‹¤. ê¸°ëŒ€ìˆ˜ëª…ì€ 83.5ì„¸ë¡œ ë†’ì€ ìˆ˜ì¤€ì´ì§€ë§Œ ì‚¶ì˜ ë§Œì¡±ë„ëŠ” OECD í‰ê· 
                ì´í•˜ì…ë‹ˆë‹¤.
            </div>
        </div>

        <!-- Section 3: í™˜ê²½ ì§€í‘œ -->
        <div class="section">
            <h2 class="section-title"><i data-lucide="leaf" class="icon icon-medium"></i>í™˜ê²½ ì§€í‘œ</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œ ê°ì†Œ (2024)</div>
                    <div class="metric-value">-2%</div>
                    <div class="metric-compare">14ë…„ ë§Œì— ìµœì € | 2030 ëª©í‘œ: -40%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ì¬ìƒì—ë„ˆì§€ ë¹„ìœ¨ (2024)</div>
                    <div class="metric-value">8.4%</div>
                    <div class="metric-compare">OECD ìµœí•˜ìœ„ê¶Œ | ëª©í‘œ 2034: 25% <i data-lucide="alert-triangle"
                            style="width: 18px; height: 18px; color: #e74c3c; vertical-align: middle;"></i></div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">PM2.5 ë†ë„ (2024)</div>
                    <div class="metric-value">17.5 Âµg/mÂ³</div>
                    <div class="metric-compare">WHO ê¸°ì¤€: 5 Âµg/mÂ³ | 3.5ë°° ì´ˆê³¼</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ëŒ€ê¸°ì˜¤ì—¼ ë…¸ì¶œ ì¸êµ¬ (2020)</div>
                    <div class="metric-value">99.1%</div>
                    <div class="metric-compare">OECD í‰ê· : 56.5% | ê°œì„  í•„ìš”</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-wrapper">
                    <div class="chart-title">ì¬ìƒì—ë„ˆì§€ ë¹„ìœ¨ ë¹„êµ</div>
                    <canvas id="renewableChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-title">ëŒ€ê¸°ì§ˆ ì§€í‘œ (PM2.5)</div>
                    <canvas id="airQualityChart"></canvas>
                </div>
            </div>

            <div class="highlight">
                <strong><i data-lucide="lightbulb" class="icon icon-small"></i>ì£¼ìš” ì¸ì‚¬ì´íŠ¸:</strong> ëŒ€í•œë¯¼êµ­ì€ 2050 íƒ„ì†Œì¤‘ë¦½ì„ ëª©í‘œë¡œ í•˜ê³ 
                ìˆìœ¼ë‚˜, ì¬ìƒì—ë„ˆì§€ ë¹„ìœ¨(8.4%)ì€ OECD ìµœí•˜ìœ„ê¶Œì…ë‹ˆë‹¤. ëŒ€ê¸°ì§ˆ ê°œì„ ì´ í•„ìš”í•˜ë©°, PM2.5 ë†ë„ëŠ” WHO ê¶Œì¥ì¹˜ì˜ 3.5ë°° ìˆ˜ì¤€ì…ë‹ˆë‹¤. 2024ë…„ ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œì´ 2% ê°ì†Œí•˜ë©°
                ê¸ì •ì  ì‹ í˜¸ë¥¼ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.
            </div>
        </div>

        <!-- Section 4: í˜ì‹  ì§€í‘œ -->
        <div class="section">
            <h2 class="section-title"><i data-lucide="rocket" class="icon icon-medium"></i>í˜ì‹  ì§€í‘œ</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">R&D íˆ¬ì (GDP ëŒ€ë¹„, 2023)</div>
                    <div class="metric-value">4.96%</div>
                    <div class="metric-compare">ì„¸ê³„ 2ìœ„ (1ìœ„ ì´ìŠ¤ë¼ì—˜ 6.35%)</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">R&D ì§€ì¶œì•¡ (2023)</div>
                    <div class="metric-value">119.7ì¡°ì›</div>
                    <div class="metric-compare">ì „ë…„ ëŒ€ë¹„ +5.7% ì¦ê°€</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">ë””ì§€í„¸ ì •ë¶€ ì„±ìˆ™ë„ (2023)</div>
                    <div class="metric-value">0.89/1.00</div>
                    <div class="metric-compare">AI ì •ë¶€ í™œìš© OECD í‰ê·  ìƒíšŒ</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">IP5 íŠ¹í—ˆ ì ìœ ìœ¨</div>
                    <div class="metric-value">ì¦ê°€ì„¸</div>
                    <div class="metric-compare">ê¸€ë¡œë²Œ R&D íˆ¬ì í™•ëŒ€ ì¤‘</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-wrapper">
                    <div class="chart-title">R&D íˆ¬ì êµ­ì œ ë¹„êµ (GDP ëŒ€ë¹„ %)</div>
                    <canvas id="rdChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-title">R&D ì§€ì¶œ ì¶”ì´ (ì¡°ì›)</div>
                    <canvas id="rdTrendChart"></canvas>
                </div>
            </div>

            <div class="highlight">
                <strong><i data-lucide="lightbulb" class="icon icon-small"></i>ì£¼ìš” ì¸ì‚¬ì´íŠ¸:</strong> ëŒ€í•œë¯¼êµ­ì€ R&D íˆ¬ì ì„¸ê³„ 2ìœ„(GDP
                ëŒ€ë¹„ 4.96%)ë¡œ í˜ì‹  ê²½ì œì˜ í•µì‹¬ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. 2024ë…„ ì •ë¶€ R&D ì˜ˆì‚°ì´ ê°ì†Œí–ˆìœ¼ë‚˜, ë¯¼ê°„ ë¶€ë¬¸ì˜ ì ê·¹ì  íˆ¬ìê°€ ì§€ì†ë˜ê³  ìˆìŠµë‹ˆë‹¤. ë””ì§€í„¸ ì •ë¶€ ì„±ìˆ™ë„ë„ OECD
                ìµœìƒìœ„ê¶Œì…ë‹ˆë‹¤.
            </div>
        </div>

        <!-- API Guide Section -->
        <div class="api-guide" id="api-guide">
            <h3><i data-lucide="code-2" class="icon icon-medium"></i>OECD API ì‚¬ìš© ê°€ì´ë“œ</h3>

            <div class="api-status live" id="apiStatus">
                <span class="api-status-dot"></span>
                <span id="apiStatusText">API ì—°ê²° í™•ì¸ ì¤‘...</span>
            </div>

            <p>ì´ ëŒ€ì‹œë³´ë“œëŠ” <strong>OECD SDMX RESTful API</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. APIëŠ” ë¬´ë£Œì´ë©°, ë³„ë„ì˜ ì¸ì¦ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

            <h4><i data-lucide="link" class="icon icon-small"></i>API ê¸°ë³¸ URL</h4>
            <pre id="baseUrl">https://sdmx.oecd.org/public/rest/data/</pre>
            <button class="copy-btn" onclick="copyToClipboard('https://sdmx.oecd.org/public/rest/data/')">ğŸ“‹ ë³µì‚¬</button>

            <h4><i data-lucide="database" class="icon icon-small"></i>ì´ ëŒ€ì‹œë³´ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ì…‹</h4>
            <div class="endpoint-list">
                <div class="endpoint-item">
                    <strong>ğŸ“ˆ GDP ì„±ì¥ë¥ </strong>
                    <p>ë¶„ê¸°ë³„ GDP ì„±ì¥ë¥  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
                    <code>OECD.SDD.NAD,DSD_NAMAIN1@DF_TABLE1_POPTOTAL,1.0/A.KOR.B1GQ_R_GR</code>
                </div>
                <div class="endpoint-item">
                    <strong>ğŸ‘¥ ì‹¤ì—…ë¥ </strong>
                    <p>êµ­ê°€ë³„ ì‹¤ì—…ë¥  í†µê³„ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
                    <code>OECD.SDD.TPS,DSD_LFS@DF_IALFS_UNE_M,1.0/KOR+JPN+USA+DEU.UNE_LF._T._T.Y._T.M</code>
                </div>
                <div class="endpoint-item">
                    <strong>ğŸ‘¶ ì¶œì‚°ìœ¨</strong>
                    <p>êµ­ê°€ë³„ í•©ê³„ì¶œì‚°ìœ¨ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
                    <code>OECD.ELS.SAE,DSD_FD@DF_FAMILYDB,1.0/KOR+JPN+FRA+ISR.SF2_1.TFR.A</code>
                </div>
                <div class="endpoint-item">
                    <strong>ğŸ”¬ R&D íˆ¬ì</strong>
                    <p>GDP ëŒ€ë¹„ R&D íˆ¬ì ë¹„ìœ¨ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
                    <code>OECD.STI.STP,DSD_MSTI@DF_MSTI,1.0/A.GERD_GDP.KOR+ISR+TWN+SWE</code>
                </div>
            </div>

            <h4><i data-lucide="terminal" class="icon icon-small"></i>JavaScript ì˜ˆì œ ì½”ë“œ</h4>
            <pre>// OECD APIì—ì„œ í•œêµ­ GDP ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
async function fetchKoreaGDP() {
    const url = 'https://sdmx.oecd.org/public/rest/data/' +
                'OECD.SDD.NAD,DSD_NAMAIN1@DF_TABLE1_POPTOTAL,1.0/' +
                'A.KOR.B1GQ_R_GR?format=jsondata';
    
    const response = await fetch(url, {
        headers: {
            'Accept': 'application/vnd.sdmx.data+json;charset=utf-8;version=2.0.0'
        }
    });
    
    const data = await response.json();
    console.log('GDP Data:', data);
    return data;
}</pre>
            <button class="copy-btn" onclick="copyCode()">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>

            <h4><i data-lucide="info" class="icon icon-small"></i>API ì œí•œì‚¬í•­</h4>
            <p>â€¢ <strong>ìš”ì²­ ì œí•œ:</strong> ì‹œê°„ë‹¹ ìµœëŒ€ 60íšŒ<br>
                â€¢ <strong>ì‘ë‹µ í˜•ì‹:</strong> JSON, XML, CSV ì§€ì›<br>
                â€¢ <strong>ì¸ì¦:</strong> í•„ìš” ì—†ìŒ (ë¬´ë£Œ)<br>
                â€¢ <strong>CORS:</strong> ëª¨ë“  ë„ë©”ì¸ í—ˆìš©</p>

            <h4><i data-lucide="external-link" class="icon icon-small"></i>ê³µì‹ ë¬¸ì„œ</h4>
            <p>ë” ìì„¸í•œ ì •ë³´ëŠ” <a href="https://data-explorer.oecd.org" target="_blank"
                    style="color: var(--text-primary); font-weight: 600;">OECD Data Explorer</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="footer">
            <p>ë°ì´í„° ì¶œì²˜: <a href="https://www.oecd.org" class="source-link" target="_blank">OECD</a> |
                <a href="https://data-explorer.oecd.org" class="source-link" target="_blank">OECD Data Explorer</a> |
                <a href="https://www.oecd.org/korea" class="source-link" target="_blank">OECD Korea</a>
            </p>
            <p style="margin-top: 10px;">Last Updated: 2026-01-02 | Dashboard created with <i data-lucide="heart"
                    class="icon icon-small" style="color: #ff6b6b;"></i> for Korea</p>
        </div>
    </div>

    <script>
        // =============================================
        // OECD API Configuration & Functions
        // =============================================

        const OECD_API = {
            baseUrl: 'https://sdmx.oecd.org/public/rest/data/',
            headers: {
                'Accept': 'application/vnd.sdmx.data+json;charset=utf-8;version=2.0.0'
            },
            timeout: 10000, // 10 seconds
            isLive: false,  // Track if API is working

            // Fallback static data (used when API fails)
            fallbackData: {
                gdp: [-0.7, 4.3, 2.6, 1.4, 2.2, 1.0, 2.2],
                gdpLabels: ['2020', '2021', '2022', '2023', '2024', '2025(E)', '2026(E)'],
                unemployment: [2.7, 4.9, 2.5, 3.7, 3.0],
                fertility: [0.75, 1.5, 1.3, 1.8, 2.9],
                education: [70.6, 68.9, 66.2, 65, 48.4],
                renewable: [8.4, 30, 46, 80, 98],
                airQuality: [17.5, 5, 10, 11],
                rdInvestment: [6.35, 4.96, 3.6, 3.4, 2.7],
                rdTrend: [89.5, 93.1, 100.3, 113.3, 119.7]
            }
        };

        // Fetch with timeout
        async function fetchWithTimeout(url, options = {}) {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), OECD_API.timeout);

            try {
                const response = await fetch(url, {
                    ...options,
                    signal: controller.signal
                });
                clearTimeout(timeoutId);
                return response;
            } catch (error) {
                clearTimeout(timeoutId);
                throw error;
            }
        }

        // Generic OECD API fetch function
        async function fetchOECDData(endpoint) {
            const url = `${OECD_API.baseUrl}${endpoint}`;

            try {
                const response = await fetchWithTimeout(url, {
                    headers: OECD_API.headers
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }

                const data = await response.json();
                return data;
            } catch (error) {
                console.warn('OECD API Error:', error.message);
                return null;
            }
        }

        // Parse SDMX JSON data - extract values
        function parseSDMXData(sdmxData) {
            try {
                if (!sdmxData || !sdmxData.data || !sdmxData.data.dataSets) {
                    return null;
                }

                const dataSet = sdmxData.data.dataSets[0];
                const structure = sdmxData.data.structure;

                // Get time periods from dimensions
                const timeDimension = structure.dimensions.observation.find(d => d.id === 'TIME_PERIOD');
                const labels = timeDimension ? timeDimension.values.map(v => v.id) : [];

                // Get values from series
                const series = dataSet.series;
                const values = [];

                for (const key in series) {
                    const observations = series[key].observations;
                    for (const obsKey in observations) {
                        values.push(observations[obsKey][0]);
                    }
                }

                return { labels, values };
            } catch (error) {
                console.warn('Parse error:', error);
                return null;
            }
        }

        // =============================================
        // Specific Data Fetching Functions
        // =============================================

        // Fetch GDP Growth Rate data for Korea
        async function fetchGDPData() {
            try {
                const endpoint = 'OECD.SDD.NAD,DSD_NAMAIN1@DF_TABLE1_POPTOTAL,1.0/A.KOR.B1GQ_R_GR?startPeriod=2020&endPeriod=2024';
                const data = await fetchOECDData(endpoint);

                if (data && data.data && data.data.dataSets && data.data.dataSets[0]) {
                    const structure = data.data.structure;
                    const timeDim = structure.dimensions.observation.find(d => d.id === 'TIME_PERIOD');
                    const labels = timeDim ? timeDim.values.map(v => v.id) : [];

                    const series = data.data.dataSets[0].series;
                    const values = [];

                    for (const key in series) {
                        const obs = series[key].observations;
                        for (const obsKey in obs) {
                            values.push(Math.round(obs[obsKey][0] * 10) / 10);
                        }
                    }

                    // Add forecast data (2025, 2026)
                    labels.push('2025(E)', '2026(E)');
                    values.push(1.0, 2.2);

                    return { labels, values };
                }
            } catch (error) {
                console.warn('Failed to fetch GDP data:', error);
            }

            // Fallback
            return {
                labels: OECD_API.fallbackData.gdpLabels,
                values: OECD_API.fallbackData.gdp
            };
        }

        // Fetch Unemployment Rate data
        async function fetchUnemploymentData() {
            try {
                // Get latest year's data for multiple countries
                const endpoint = 'OECD.SDD.TPS,DSD_LFS@DF_IALFS_UNE_RA,1.0/KOR+JPN+USA+DEU.UNE_LF._T._T.Y15T74._T.A?lastNObservations=1';
                const data = await fetchOECDData(endpoint);

                if (data && data.data && data.data.dataSets && data.data.dataSets[0]) {
                    const structure = data.data.structure;
                    const refAreaDim = structure.dimensions.series.find(d => d.id === 'REF_AREA');
                    const countries = refAreaDim ? refAreaDim.values : [];

                    const series = data.data.dataSets[0].series;
                    const countryData = {};

                    let seriesIdx = 0;
                    for (const key in series) {
                        const countryCode = countries[seriesIdx]?.id || '';
                        const obs = series[key].observations;
                        for (const obsKey in obs) {
                            countryData[countryCode] = Math.round(obs[obsKey][0] * 10) / 10;
                        }
                        seriesIdx++;
                    }

                    // Map to our expected format: í•œêµ­, OECD í‰ê· , ì¼ë³¸, ë¯¸êµ­, ë…ì¼
                    const values = [
                        countryData['KOR'] || 2.7,
                        4.9, // OECD average (static)
                        countryData['JPN'] || 2.5,
                        countryData['USA'] || 3.7,
                        countryData['DEU'] || 3.0
                    ];

                    return values;
                }
            } catch (error) {
                console.warn('Failed to fetch unemployment data:', error);
            }

            return OECD_API.fallbackData.unemployment;
        }

        // Fetch Fertility Rate data
        async function fetchFertilityData() {
            try {
                const endpoint = 'OECD.ELS.SAE,DSD_FD@DF_FAMILYDB,1.0/KOR+JPN+FRA+ISR.SF2_1.TFR._T?lastNObservations=1';
                const data = await fetchOECDData(endpoint);

                if (data && data.data && data.data.dataSets && data.data.dataSets[0]) {
                    const structure = data.data.structure;
                    const refAreaDim = structure.dimensions.series.find(d => d.id === 'REF_AREA');
                    const countries = refAreaDim ? refAreaDim.values : [];

                    const series = data.data.dataSets[0].series;
                    const countryData = {};

                    let seriesIdx = 0;
                    for (const key in series) {
                        const countryCode = countries[seriesIdx]?.id || '';
                        const obs = series[key].observations;
                        for (const obsKey in obs) {
                            countryData[countryCode] = Math.round(obs[obsKey][0] * 100) / 100;
                        }
                        seriesIdx++;
                    }

                    // Map to: í•œêµ­, OECD í‰ê· , ì¼ë³¸, í”„ë‘ìŠ¤, ì´ìŠ¤ë¼ì—˜
                    const values = [
                        countryData['KOR'] || 0.75,
                        1.5, // OECD average
                        countryData['JPN'] || 1.3,
                        countryData['FRA'] || 1.8,
                    ];

                    return values;
                }
            } catch (error) {
                console.warn('Failed to fetch fertility data:', error);
            }

            return OECD_API.fallbackData.fertility;
        }

        // Fetch R&D Investment data (GDP %)
        async function fetchRDData() {
            try {
                const endpoint = 'OECD.STI.STP,DSD_MSTI@DF_MSTI,1.0/A.GERD_GDP.KOR+ISR+SWE?lastNObservations=1';
                const data = await fetchOECDData(endpoint);

                if (data && data.data && data.data.dataSets && data.data.dataSets[0]) {
                    const structure = data.data.structure;
                    const refAreaDim = structure.dimensions.series.find(d => d.id === 'REF_AREA');
                    const countries = refAreaDim ? refAreaDim.values : [];

                    const series = data.data.dataSets[0].series;
                    const countryData = {};

                    let seriesIdx = 0;
                    for (const key in series) {
                        const countryCode = countries[seriesIdx]?.id || '';
                        const obs = series[key].observations;
                        for (const obsKey in obs) {
                            countryData[countryCode] = Math.round(obs[obsKey][0] * 100) / 100;
                        }
                        seriesIdx++;
                    }

                    // Map to: ì´ìŠ¤ë¼ì—˜, í•œêµ­, ëŒ€ë§Œ, ìŠ¤ì›¨ë´, OECD í‰ê· 
                    const values = [
                        countryData['ISR'] || 6.35,
                        countryData['KOR'] || 4.96,
                        3.6, // Taiwan (static)
                        2.7  // OECD average
                    ];

                    return values;
                }
            } catch (error) {
                console.warn('Failed to fetch R&D data:', error);
            }

        }

        // Master function to load data (uses static data, API guide for reference)
        async function loadAPIDataAndUpdateCharts() {
            // í˜„ì¬ OECD API ì—”ë“œí¬ì¸íŠ¸ê°€ ìì£¼ ë³€ê²½ë˜ë¯€ë¡œ ì •ì  ë°ì´í„° ì‚¬ìš©
            // API ê°€ì´ë“œ ì„¹ì…˜ì€ êµìœ¡ìš©ìœ¼ë¡œ ìœ ì§€
            updateAPIStatus(false, 'ë°ì´í„° ì¤€ë¹„ ì™„ë£Œ');
        }

        // Update API status display (both header and API guide section)
        function updateAPIStatus(isLive, message = null) {
            OECD_API.isLive = isLive;

            // Update API Guide section status
            const statusEl = document.getElementById('apiStatus');
            const statusTextEl = document.getElementById('apiStatusText');

            if (statusEl && statusTextEl) {
                if (message && message.includes('ì¤€ë¹„ ì™„ë£Œ')) {
                    statusEl.className = 'api-status live';
                    statusTextEl.textContent = message;
                } else if (isLive) {
                    statusEl.className = 'api-status live';
                    statusTextEl.textContent = message || 'ğŸŸ¢ ì‹¤ì‹œê°„ API ì—°ê²°ë¨';
                } else {
                    statusEl.className = 'api-status fallback';
                    statusTextEl.textContent = message || 'ğŸŸ¡ ì •ì  ë°ì´í„° ì‚¬ìš© ì¤‘';
                }
            }

            // Update Header status badge
            const headerStatusEl = document.getElementById('headerApiStatus');
            const headerStatusTextEl = document.getElementById('headerApiStatusText');

            if (headerStatusEl && headerStatusTextEl) {
                let shortMessage = '';
                let statusClass = 'loading';

                if (message && message.includes('ë¡œë”©')) {
                    shortMessage = 'ë¡œë”© ì¤‘...';
                    statusClass = 'loading';
                } else if (message && message.includes('ì¤€ë¹„ ì™„ë£Œ')) {
                    shortMessage = 'Data Ready';
                    statusClass = 'live';
                } else if (isLive) {
                    const match = message ? message.match(/\((\d+\/\d+)\s*API\)/) : null;
                    shortMessage = match ? `API Live ${match[1]}` : 'API Live';
                    statusClass = 'live';
                } else {
                    shortMessage = 'ì •ì  ë°ì´í„°';
                    statusClass = 'fallback';
                }

                headerStatusEl.className = `header-api-status ${statusClass}`;
                headerStatusTextEl.textContent = shortMessage;
            }
        }

        // Test API connection
        async function testAPIConnection() {
            try {
                const testUrl = `${OECD_API.baseUrl}OECD.SDD.NAD,DSD_NAMAIN1@DF_TABLE1_POPTOTAL,1.0/A.KOR.B1GQ_R_GR?lastNObservations=1`;
                const response = await fetchWithTimeout(testUrl, {
                    headers: OECD_API.headers
                });

                if (response.ok) {
                    updateAPIStatus(true, 'ğŸŸ¢ ì‹¤ì‹œê°„ API ì—°ê²°ë¨');
                    return true;
                }
            } catch (error) {
                console.warn('API connection test failed:', error);
            }

            updateAPIStatus(false);
            return false;
        }

        // Copy functions for API guide
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(err => {
                console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
            });
        }

        function copyCode() {
            const code = `// OECD APIì—ì„œ í•œêµ­ GDP ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
async function fetchKoreaGDP() {
    const url = 'https://sdmx.oecd.org/public/rest/data/' +
                'OECD.SDD.NAD,DSD_NAMAIN1@DF_TABLE1_POPTOTAL,1.0/' +
                'A.KOR.B1GQ_R_GR?format=jsondata';
    
    const response = await fetch(url, {
        headers: {
            'Accept': 'application/vnd.sdmx.data+json;charset=utf-8;version=2.0.0'
        }
    });
    
    const data = await response.json();
    console.log('GDP Data:', data);
    return data;
}`;
            copyToClipboard(code);
        }

        // =============================================
        // Chart configurations
        // =============================================
        let chartColors = {
            primary: '#363636',
            secondary: '#555555',
            success: '#666666',
            danger: '#777777',
            warning: '#888888',
            info: '#999999',
            accent1: '#4A4A4A',
            accent2: '#5A5A5A',
            fill: 'rgba(54, 54, 54, 0.1)',
            grid: 'rgba(0, 0, 0, 0.1)',
            tick: 'rgba(0, 0, 0, 0.5)'
        };

        // Function to get CSS variable value
        function getCSSVariable(variable) {
            return getComputedStyle(document.documentElement).getPropertyValue(variable).trim();
        }

        // Function to update chart colors based on theme
        function updateChartColors() {
            chartColors.primary = getCSSVariable('--chart-primary');
            chartColors.secondary = getCSSVariable('--chart-secondary');
            chartColors.success = getCSSVariable('--chart-success');
            chartColors.danger = getCSSVariable('--chart-danger');
            chartColors.warning = getCSSVariable('--chart-warning');
            chartColors.info = getCSSVariable('--chart-info');
            chartColors.fill = getCSSVariable('--chart-fill');
            chartColors.grid = getCSSVariable('--chart-grid');
            chartColors.tick = getCSSVariable('--chart-tick');

            // Update all charts
            updateAllCharts();
        }

        // Function to update all charts with new colors
        function updateAllCharts() {
            const gridColor = chartColors.grid || 'rgba(0, 0, 0, 0.1)';
            const tickColor = chartColors.tick || 'rgba(0, 0, 0, 0.5)';
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';

            // Helper function to get gray color based on theme
            function getGrayColor() {
                if (currentTheme === 'dark') {
                    return '#666666'; // ë°ì€ íšŒìƒ‰ (ë‹¤í¬ ëª¨ë“œ)
                } else if (currentTheme === 'light') {
                    return '#CCCCCC'; // ì–´ë‘ìš´ íšŒìƒ‰ (ë¼ì´íŠ¸ ëª¨ë“œ)
                }
                return null; // ê·¸ë ˆì´/ë‹¤í¬ë¸”ë£¨ ëª¨ë“œëŠ” null ë°˜í™˜ (ì›ë˜ ìƒ‰ìƒ ìœ ì§€)
            }

            // Helper function to get Korea color (í•˜ëŠ˜ìƒ‰ ê³„ì—´)
            function getKoreaColor() {
                if (currentTheme === 'dark' || currentTheme === 'light') {
                    return getCSSVariable('--chart-korea') || (currentTheme === 'dark' ? '#64B5F6' : '#42A5F5');
                }
                return chartColors.primary; // ê·¸ë ˆì´/ë‹¤í¬ë¸”ë£¨ ëª¨ë“œëŠ” primary ìƒ‰ìƒ
            }

            const grayColor = getGrayColor();
            const koreaColor = getKoreaColor();

            // Helper function to update grid colors
            function updateGridColors(chart) {
                if (chart && chart.options && chart.options.scales) {
                    // Update Y axis
                    if (chart.options.scales.y) {
                        if (!chart.options.scales.y.grid) chart.options.scales.y.grid = {};
                        if (!chart.options.scales.y.ticks) chart.options.scales.y.ticks = {};
                        chart.options.scales.y.grid.color = gridColor;
                        chart.options.scales.y.ticks.color = tickColor;
                    }
                    // Update X axis
                    if (chart.options.scales.x) {
                        if (!chart.options.scales.x.grid) chart.options.scales.x.grid = {};
                        if (!chart.options.scales.x.ticks) chart.options.scales.x.ticks = {};
                        chart.options.scales.x.grid.color = gridColor;
                        chart.options.scales.x.ticks.color = tickColor;
                    }
                }
            }

            // GDP Chart
            if (charts.gdpChart) {
                charts.gdpChart.data.datasets[0].borderColor = chartColors.primary;
                charts.gdpChart.data.datasets[0].backgroundColor = chartColors.fill;
                updateGridColors(charts.gdpChart);
                charts.gdpChart.update('none');
            }

            // Unemployment Chart - í•œêµ­ì´ ì²« ë²ˆì§¸
            if (charts.unemploymentChart) {
                if (grayColor) {
                    charts.unemploymentChart.data.datasets[0].backgroundColor = [
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.unemploymentChart.data.datasets[0].backgroundColor = [
                        chartColors.primary,
                        chartColors.secondary,
                        chartColors.info,
                        chartColors.warning,
                        chartColors.success
                    ];
                }
                updateGridColors(charts.unemploymentChart);
                charts.unemploymentChart.update('none');
            }

            // Fertility Chart - í•œêµ­ì´ ì²« ë²ˆì§¸
            if (charts.fertilityChart) {
                if (grayColor) {
                    charts.fertilityChart.data.datasets[0].backgroundColor = [
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.fertilityChart.data.datasets[0].backgroundColor = [
                        chartColors.primary,
                        chartColors.secondary,
                        chartColors.warning,
                        chartColors.info,
                        chartColors.success
                    ];
                }
                updateGridColors(charts.fertilityChart);
                charts.fertilityChart.update('none');
            }

            // Education Chart - í•œêµ­ì´ ì²« ë²ˆì§¸
            if (charts.educationChart) {
                if (grayColor) {
                    charts.educationChart.data.datasets[0].backgroundColor = [
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.educationChart.data.datasets[0].backgroundColor = [
                        chartColors.primary,
                        chartColors.info,
                        chartColors.success,
                        chartColors.secondary,
                        chartColors.warning
                    ];
                }
                updateGridColors(charts.educationChart);
                charts.educationChart.update('none');
            }

            // Renewable Energy Chart - í•œêµ­ì´ ì²« ë²ˆì§¸
            if (charts.renewableChart) {
                if (grayColor) {
                    charts.renewableChart.data.datasets[0].backgroundColor = [
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.renewableChart.data.datasets[0].backgroundColor = [
                        chartColors.primary,
                        chartColors.secondary,
                        chartColors.warning,
                        chartColors.success,
                        chartColors.info
                    ];
                }
                updateGridColors(charts.renewableChart);
                charts.renewableChart.update('none');
            }

            // Air Quality Chart - í•œêµ­ì´ ì²« ë²ˆì§¸
            if (charts.airQualityChart) {
                if (grayColor) {
                    charts.airQualityChart.data.datasets[0].backgroundColor = [
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.airQualityChart.data.datasets[0].backgroundColor = [
                        chartColors.primary,
                        chartColors.success,
                        chartColors.warning,
                        chartColors.info
                    ];
                }
                updateGridColors(charts.airQualityChart);
                charts.airQualityChart.update('none');
            }

            // R&D Investment Chart - í•œêµ­ì´ ë‘ ë²ˆì§¸
            if (charts.rdChart) {
                if (grayColor) {
                    charts.rdChart.data.datasets[0].backgroundColor = [
                        grayColor,
                        koreaColor, // í•œêµ­ (í•˜ëŠ˜ìƒ‰)
                        grayColor, grayColor, grayColor
                    ];
                } else {
                    charts.rdChart.data.datasets[0].backgroundColor = [
                        chartColors.success,
                        chartColors.primary,
                        chartColors.info,
                        chartColors.secondary,
                        chartColors.warning
                    ];
                }
                updateGridColors(charts.rdChart);
                charts.rdChart.update('none');
            }

            // R&D Trend Chart
            if (charts.rdTrendChart) {
                charts.rdTrendChart.data.datasets[0].borderColor = chartColors.primary;
                charts.rdTrendChart.data.datasets[0].backgroundColor = chartColors.fill;
                updateGridColors(charts.rdTrendChart);
                charts.rdTrendChart.update('none');
            }
        }

        // Store all charts globally
        const charts = {};

        // Helper function to get chart colors array (í•œêµ­ë§Œ ì»¬ëŸ¬, ë‚˜ë¨¸ì§€ëŠ” íšŒìƒ‰)
        function getChartColors(koreaIndex, totalItems, defaultColors) {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            let grayColor = null;
            let koreaColor = null;

            if (currentTheme === 'dark') {
                grayColor = '#666666';
                koreaColor = getCSSVariable('--chart-korea') || '#64B5F6';
            } else if (currentTheme === 'light') {
                grayColor = '#CCCCCC';
                koreaColor = getCSSVariable('--chart-korea') || '#42A5F5';
            }

            if (grayColor && koreaColor) {
                const colors = new Array(totalItems).fill(grayColor);
                colors[koreaIndex] = koreaColor;
                return colors;
            }

            return defaultColors;
        }

        // Helper function to create chart with bottom-up animation
        function createChartWithAnimation(elementId, config, originalData) {
            const ctx = document.getElementById(elementId);
            if (!ctx) return null;

            // If chart already exists, destroy it
            if (charts[elementId]) {
                charts[elementId].destroy();
            }

            // Initialize with zeros
            const zeroData = originalData.map(() => 0);
            const configCopy = JSON.parse(JSON.stringify(config));
            configCopy.data.datasets[0].data = zeroData;

            // Enhanced animation configuration
            configCopy.options.animation = {
                duration: 1500,
                easing: 'easeOutQuart',
                delay: (context) => {
                    // Sequential animation for bar charts
                    if (config.type === 'bar') {
                        return context.dataIndex * 80;
                    }
                    return 0;
                }
            };

            const chart = new Chart(ctx, configCopy);
            charts[elementId] = chart;

            // Store original data in chart instance
            chart.originalData = originalData;
            chart.animated = false;
            chart.chartType = config.type;

            // Apply grid colors from CSS variables
            const gridColor = getCSSVariable('--chart-grid') || 'rgba(0, 0, 0, 0.1)';
            const tickColor = getCSSVariable('--chart-tick') || 'rgba(0, 0, 0, 0.5)';

            if (chart.options && chart.options.scales) {
                if (chart.options.scales.y) {
                    if (!chart.options.scales.y.grid) chart.options.scales.y.grid = {};
                    if (!chart.options.scales.y.ticks) chart.options.scales.y.ticks = {};
                    chart.options.scales.y.grid.color = gridColor;
                    chart.options.scales.y.ticks.color = tickColor;
                }
                if (chart.options.scales.x) {
                    if (!chart.options.scales.x.grid) chart.options.scales.x.grid = {};
                    if (!chart.options.scales.x.ticks) chart.options.scales.x.ticks = {};
                    chart.options.scales.x.grid.color = gridColor;
                    chart.options.scales.x.ticks.color = tickColor;
                }
            }

            return chart;
        }

        // Function to animate a single chart
        function animateChart(chartId) {
            const chart = charts[chartId];
            if (!chart || !chart.originalData || chart.animated) return;

            chart.animated = true;

            // Reset to zero first (no animation)
            chart.data.datasets[0].data = chart.originalData.map(() => 0);
            chart.update('none');

            // Force a small delay to ensure reset is complete, then animate
            setTimeout(() => {
                chart.data.datasets[0].data = chart.originalData;
                // Use different animation modes based on chart type
                if (chart.chartType === 'line') {
                    chart.update({
                        duration: 1500,
                        easing: 'easeOutQuart',
                        lazy: false
                    });
                } else {
                    chart.update({
                        duration: 1500,
                        easing: 'easeOutQuart',
                        lazy: false
                    });
                }
            }, 150);
        }

        // Initialize all charts and set up observers
        function initializeCharts() {
            // Intersection Observer for scroll-triggered animations
            const observerOptions = {
                root: null,
                rootMargin: '100px',
                threshold: 0.2
            };

            const chartObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const chartId = entry.target.id;
                        // Add slight delay for smoother appearance
                        setTimeout(() => {
                            animateChart(chartId);
                        }, 100);
                    }
                });
            }, observerOptions);

            // Observe all chart canvases
            Object.keys(charts).forEach(chartId => {
                const canvas = document.getElementById(chartId);
                if (canvas) {
                    chartObserver.observe(canvas);
                }
            });

            // Animate visible charts immediately after a delay
            setTimeout(() => {
                Object.keys(charts).forEach((chartId, index) => {
                    const canvas = document.getElementById(chartId);
                    if (canvas) {
                        const rect = canvas.getBoundingClientRect();
                        const isVisible = rect.top < window.innerHeight + 100 && rect.bottom > -100;
                        if (isVisible) {
                            // Stagger animations for visible charts
                            setTimeout(() => {
                                animateChart(chartId);
                            }, index * 150);
                        }
                    }
                });
            }, 400);
        }

        // GDP Growth Chart
        const gdpData = [-0.7, 4.3, 2.6, 1.4, 2.2, 1.0, 2.2];
        createChartWithAnimation('gdpChart', {
            type: 'line',
            data: {
                labels: ['2020', '2021', '2022', '2023', '2024', '2025(E)', '2026(E)'],
                datasets: [{
                    label: 'ëŒ€í•œë¯¼êµ­ GDP ì„±ì¥ë¥  (%)',
                    data: gdpData,
                    borderColor: chartColors.primary,
                    backgroundColor: chartColors.fill || 'rgba(54, 54, 54, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1500,
                    easing: 'easeOutQuart'
                },
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: { beginAtZero: false }
                }
            }
        }, gdpData);

        // Unemployment Chart
        const unemploymentData = [2.7, 4.9, 2.5, 3.7, 3.0];
        createChartWithAnimation('unemploymentChart', {
            type: 'bar',
            data: {
                labels: ['í•œêµ­', 'OECD í‰ê· ', 'ì¼ë³¸', 'ë¯¸êµ­', 'ë…ì¼'],
                datasets: [{
                    label: 'ì‹¤ì—…ë¥  (%, 2024)',
                    data: unemploymentData,
                    backgroundColor: getChartColors(0, 5, [chartColors.primary, chartColors.secondary, chartColors.info, chartColors.warning, chartColors.success])
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        }, unemploymentData);

        // Fertility Chart
        const fertilityData = [0.75, 1.5, 1.3, 1.8, 2.9];
        createChartWithAnimation('fertilityChart', {
            type: 'bar',
            data: {
                labels: ['í•œêµ­', 'OECD í‰ê· ', 'ì¼ë³¸', 'í”„ë‘ìŠ¤', 'ì´ìŠ¤ë¼ì—˜'],
                datasets: [{
                    label: 'í•©ê³„ì¶œì‚°ìœ¨ (2024)',
                    data: fertilityData,
                    backgroundColor: getChartColors(0, 5, [chartColors.primary, chartColors.secondary, chartColors.warning, chartColors.info, chartColors.success])
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: true, max: 3 }
                }
            }
        }, fertilityData);

        // Education Chart - ìˆ˜í‰ ë§‰ëŒ€ ì°¨íŠ¸
        const educationData = [70.6, 68.9, 66.2, 65, 48.4];
        createChartWithAnimation('educationChart', {
            type: 'bar',
            data: {
                labels: ['í•œêµ­', 'ìºë‚˜ë‹¤', 'ì•„ì¼ëœë“œ', 'ì¼ë³¸', 'OECD í‰ê· '],
                datasets: [{
                    label: 'ê³ ë“±êµìœ¡ ì´ìˆ˜ìœ¨ (%, 25-34ì„¸)',
                    data: educationData,
                    backgroundColor: getChartColors(0, 5, [chartColors.primary, chartColors.info, chartColors.success, chartColors.secondary, chartColors.warning])
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: { beginAtZero: true, max: 80 }
                }
            }
        }, educationData);

        // Renewable Energy Chart
        const renewableData = [8.4, 30, 46, 80, 98];
        createChartWithAnimation('renewableChart', {
            type: 'bar',
            data: {
                labels: ['í•œêµ­', 'OECD í‰ê· ', 'ë…ì¼', 'ë´ë§ˆí¬', 'ë…¸ë¥´ì›¨ì´'],
                datasets: [{
                    label: 'ì¬ìƒì—ë„ˆì§€ ë¹„ìœ¨ (%)',
                    data: renewableData,
                    backgroundColor: getChartColors(0, 5, [chartColors.primary, chartColors.secondary, chartColors.warning, chartColors.success, chartColors.info])
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            callback: function (value) {
                                return value + '%';
                            }
                        }
                    }
                }
            }
        }, renewableData);

        // Air Quality Chart
        const airQualityData = [17.5, 5, 10, 11];
        createChartWithAnimation('airQualityChart', {
            type: 'bar',
            data: {
                labels: ['í•œêµ­', 'WHO ê¶Œì¥', 'OECD í‰ê· ', 'ì¼ë³¸'],
                datasets: [{
                    label: 'PM2.5 ë†ë„ (Âµg/mÂ³)',
                    data: airQualityData,
                    backgroundColor: getChartColors(0, 4, [chartColors.primary, chartColors.success, chartColors.warning, chartColors.info])
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 20,
                        ticks: {
                            callback: function (value) {
                                return value + ' Âµg/mÂ³';
                            }
                        }
                    }
                }
            }
        }, airQualityData);

        // R&D Investment Chart
        const rdData = [6.35, 4.96, 3.6, 3.4, 2.7];
        createChartWithAnimation('rdChart', {
            type: 'bar',
            data: {
                labels: ['ì´ìŠ¤ë¼ì—˜', 'í•œêµ­', 'ëŒ€ë§Œ', 'ìŠ¤ì›¨ë´', 'OECD í‰ê· '],
                datasets: [{
                    label: 'R&D íˆ¬ì (GDP ëŒ€ë¹„ %, 2023)',
                    data: rdData,
                    backgroundColor: getChartColors(1, 5, [chartColors.success, chartColors.primary, chartColors.info, chartColors.secondary, chartColors.warning])
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1000,
                    easing: 'easeInOut'
                },
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        }, rdData);

        // R&D Trend Chart
        const rdTrendData = [89.5, 93.1, 100.3, 113.3, 119.7];
        createChartWithAnimation('rdTrendChart', {
            type: 'line',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'R&D ì§€ì¶œ (ì¡°ì›)',
                    data: rdTrendData,
                    borderColor: chartColors.primary,
                    backgroundColor: chartColors.fill || 'rgba(54, 54, 54, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                animation: {
                    duration: 1500,
                    easing: 'easeOutQuart'
                },
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: { beginAtZero: false }
                }
            }
        }, rdTrendData);

        // Theme Switcher
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);

            // Update active button
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-theme') === theme) {
                    btn.classList.add('active');
                }
            });

            // Update chart colors after a short delay to ensure CSS variables are updated
            setTimeout(() => {
                updateChartColors();
            }, 100);
        }

        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
        }

        // Theme button event listeners
        document.querySelectorAll('.theme-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                const theme = this.getAttribute('data-theme');
                setTheme(theme);
            });
        });

        // Initialize all charts after they are created
        window.addEventListener('load', async function () {
            initTheme();
            initializeCharts();

            // Initialize Lucide Icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
            // Update chart colors after charts are initialized
            setTimeout(() => {
                updateChartColors();
            }, 500);

            // Load data from OECD API and update charts
            await loadAPIDataAndUpdateCharts();

            // Re-apply chart colors after API data is loaded
            setTimeout(() => {
                updateChartColors();
            }, 1000);
        });
    </script>
</body>

</html>